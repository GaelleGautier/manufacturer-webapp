<div class="flex flex-col p-4">
  <div class="ad-nav-m flex justify-center">
    <h2>New manufacturer</h2>
  </div>

  <form [formGroup]="manufacturerForm" (ngSubmit)="onSubmit()">
    <div class="ad-text-m mt-4 grid gap-20 rounded-xl border border-adbgborder bg-adbgwhite px-4 py-4">
      <div class="flex flex-col">
        <label for="name" class="ad-text-l">Name:</label>
        <input
          formControlName="name"
          type="text"
          id="name"
          autocomplete="organization"
          class="ad-input-text mt-2 h-10 rounded-lg border-gray-300 px-4 focus:border-blue-500 focus:ring-blue-500" />
        <div *ngIf="form['name'].touched && form['name'].invalid" class="text-sm text-red-800" role="alert">
          <div *ngIf="form['name'].errors?.['required']">Name is required.</div>
        </div>
        <br />
        <label for="url" class="ad-text-l">URL:</label>
        <input
          formControlName="url"
          type="text"
          id="url"
          class="ad-input-text mt-2 h-10 rounded-lg border-gray-300 px-4 focus:border-blue-500 focus:ring-blue-500" />
        <div *ngIf="form['url'].touched && form['url'].invalid" class="text-sm text-red-800" role="alert">
          <div *ngIf="form['url'].errors?.['required']">URL is required.</div>
        </div>
        <br />
        <label for="address" class="ad-text-l">Address:</label>
        <input
          formControlName="address"
          type="text"
          id="address"
          autocomplete="street-address"
          class="ad-input-text mt-2 h-10 rounded-lg border-gray-300 px-4 focus:border-blue-500 focus:ring-blue-500" />
        <div *ngIf="form['address'].touched && form['address'].invalid" class="text-sm text-red-800" role="alert">
          <div *ngIf="form['address'].errors?.['required']">Address is required.</div>
        </div>
        <br />
        <label for="headquarterCountryCode" class="ad-text-l">Headquarter Country Code:</label>
        <input
          formControlName="headquarterCountryCode"
          type="text"
          id="headquarterCountryCode"
          class="ad-input-text mt-2 h-10 rounded-lg border-gray-300 px-4 focus:border-blue-500 focus:ring-blue-500" />
        <div *ngIf="form['headquarterCountryCode'].touched && form['headquarterCountryCode'].invalid" class="text-sm text-red-800" role="alert">
          <div *ngIf="form['headquarterCountryCode'].errors?.['required']">Headquarter Country Code is required.</div>
          <div *ngIf="form['headquarterCountryCode'].errors?.['pattern']">Headquarter Country Code has 2 letters.</div>
        </div>
        <br />
        <label for="category" class="ad-text-l">Category:</label>
        <textarea
          formControlName="category"
          rows="2"
          id="category"
          class="h-auto rounded-lg border border-gray-300 px-4 focus:border-blue-500 focus:ring-blue-500"></textarea>
        <div *ngIf="form['category'].touched && form['category'].invalid" class="text-sm text-red-800" role="alert">
          <div *ngIf="form['category'].errors?.['required']">Category is required.</div>
        </div>
        <br />
        <label for="catalogSize" class="ad-text-l">Catalog Size:</label>
        <input
          formControlName="catalogSize"
          type="text"
          id="catalogSize"
          class="ad-input-text mt-2 h-10 rounded-lg border-gray-300 px-4 focus:border-blue-500 focus:ring-blue-500" />
        <div *ngIf="form['catalogSize'].touched && form['catalogSize'].invalid" class="text-sm text-red-800" role="alert">
          <div *ngIf="form['catalogSize'].errors?.['required']">Catalog Size is required.</div>
        </div>
        <br />
        <label for="reviewState" class="ad-text-l">Review State:</label>
        <select
          formControlName="reviewState"
          id="reviewState"
          class="ad-input-text mt-2 h-10 rounded-lg border-gray-300 px-4 focus:border-blue-500 focus:ring-blue-500">
          <option value="" disabled>Choose a review state</option>
          @for (reviewState of reviewStates; track reviewStates) {
            <option [ngValue]="reviewState">{{ reviewState }}</option>
          }
        </select>
        <div *ngIf="form['reviewState'].touched && form['reviewState'].invalid" class="text-sm text-red-800" role="alert">
          <div *ngIf="form['reviewState'].errors?.['required']">Review State is required.</div>
        </div>
        <br />
        <div formArrayName="aliases">
          <div *ngFor="let alias of aliases.controls; let i = index" [formGroupName]="i" class="flex flex-col">
            <label for="alias-{{ i }}" class="ad-text-l flex space-x-4">Alias {{ i + 1 }}:</label>
            <input
              id="alias-{{ i }}"
              type="text"
              formControlName="alias"
              class="ad-input-text mt-2 h-10 rounded-lg border-gray-300 px-4 focus:border-blue-500 focus:ring-blue-500" />
            <div *ngIf="alias.get('alias')?.touched && alias.get('alias')?.invalid" class="text-sm text-red-800" role="alert">
              <div *ngIf="alias.get('alias')?.errors?.['required']">Alias is required.</div>
            </div>
          </div>

          <div class="m-2 flex space-x-4">
            <button class="rounded-xl bg-adbgselected px-2 py-1 text-adbglight" type="button" (click)="addAlias()">
              <span class="font-icon ad-nav-m px-1 text-left">&#64;</span>Add alias
            </button>
          </div>
          <hr />
        </div>
        <br />
        <div class="flex justify-center space-x-8">
          <button class="rounded-xl bg-adbgselected px-4 py-2 text-adbglight" type="submit" [disabled]="manufacturerForm.invalid">Save</button>
          <button class="rounded-xl bg-adbgselected px-4 py-2 text-adbglight" type="button" (click)="resetForm()">Reset</button>
          <button class="rounded-xl bg-adbgselected px-4 py-2 text-adbglight" type="button" (click)="goBack()">Back</button>
        </div>
      </div>
    </div>
  </form>
</div>
